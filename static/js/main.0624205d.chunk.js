(this["webpackJsonppathfinder-visualizer"]=this["webpackJsonppathfinder-visualizer"]||[]).push([[0],{26:function(t,e,n){t.exports=n(36)},31:function(t,e,n){},32:function(t,e,n){},36:function(t,e,n){"use strict";n.r(e);var i=n(3),o=n.n(i),a=n(21),r=n.n(a);n(31),Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));var c=n(13),l=(n(32),n(15)),s=n(23),u=n(14),d=n(2),f=Object(u.a)({id:"machine",initial:"idle",context:{activeSelection:null,selectedAlgorithm:null},states:{idle:{on:{DRAW:"drawing",START:"pathfinding",SELECT_ALGORITHM:{actions:"selectedAlgorithm"}}},drawing:{on:{START:{target:"pathfinding",cond:"canStart"},SELECT_ALGORITHM:{actions:["selectedAlgorithm","idle"]},SELECT:{actions:Object(d.b)({activeSelection:function(t,e){var n=e.activeSelection;return t.activeSelection===n?null:n}})},DROP:{actions:[Object(d.b)({activeSelection:function(t){var e;return(null===(e=t.activeSelection)||void 0===e?void 0:e.isSingular)?null:t.activeSelection}}),"idle"],cond:"isSingular"},IDLE:{target:"#machine.idle",actions:Object(d.b)({activeSelection:function(){return null}})}}},pathfinding:{on:{RESET:"idle"}}}},{actions:{selectedAlgorithm:Object(d.b)({selectedAlgorithm:function(t,e){return e.selectedAlgorithm||t.selectedAlgorithm}}),idle:Object(d.q)("IDLE")},guards:{isSingular:function(t,e){return t.activeSelection&&t.activeSelection.isSingular},canStart:function(t,e){return t.activeSelection&&t.selectedAlgorithm}}});function h(t,e){return Math.abs(t.coords.x-e.coords.x)+Math.abs(t.coords.y-e.coords.y)}function m(t,e,n){var i=[];e.distance=0;for(var o=function(t){var e=[],n=!0,i=!1,o=void 0;try{for(var a,r=t[Symbol.iterator]();!(n=(a=r.next()).done);n=!0){var c=a.value,l=!0,s=!1,u=void 0;try{for(var d,f=c[Symbol.iterator]();!(l=(d=f.next()).done);l=!0){var h=d.value;e.push(h)}}catch(m){s=!0,u=m}finally{try{l||null==f.return||f.return()}finally{if(s)throw u}}}}catch(m){i=!0,o=m}finally{try{n||null==r.return||r.return()}finally{if(i)throw o}}return e}(t);o.length;){v(o);var a=o.shift();if(!(a.weight>0)){if(a.distance===1/0)return i;if(a.isVisited=!0,i.push(a),a.id===n.id)return i;g(a,t)}}}function v(t){t.sort((function(t,e){return t.distance-e.distance}))}function g(t,e){var n=p(t,e),i=!0,o=!1,a=void 0;try{for(var r,c=n[Symbol.iterator]();!(i=(r=c.next()).done);i=!0){var l=r.value;l.distance=t.distance+1,l.previousNode=t}}catch(s){o=!0,a=s}finally{try{i||null==c.return||c.return()}finally{if(o)throw a}}}function p(t,e){var n=[],i=t.position,o=i.col,a=i.row;return a>0&&n.push(e[a-1][o]),a<e.length-1&&n.push(e[a+1][o]),o>0&&n.push(e[a][o-1]),o<e[0].length-1&&n.push(e[a][o+1]),n.filter((function(t){return!t.isVisited}))}var w=25,y="#4E4C67",E="#D60A14",b="#DCD6F7",S=["Djikstra","A* (A Star)"];function x(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=arguments.length>1?arguments[1]:void 0,n=t.x,i=void 0===n?0:n,o=t.y,a=void 0===o?0:o,r=t.color,c=t.size,l=void 0===c?w:c,s=e.makeRectangle(i,a,l,l);return r?s.fill=r:s.noFill(),s.opacity=1,s.linewidth=.45,s}var N=function(t){return Math.floor(Math.random()*t)};function T(t,e){return{distance:1/0,f:1/0,g:1/0,h:1/0,previousNode:null,isVisited:!1,weight:0,empty:!0,_reset:function(){this.distance=1/0,this.globalDistance=1/0,this.previousNode=null,this.isVisited=!1,this.weight=0,this.empty=!0},get id(){return"".concat(t).concat(e)},get position(){return{col:t,row:e}}}}function k(t,e){var n=t.position,i=n.row,o=n.col*w+w/2,a=i*w+w/2,r=x({x:o,y:a},e),c=x({x:o,y:a,color:y,size:0},e);c.opacity=0,c.noStroke();var l=function(){c.opacity+=1/w,c.width++,c.height++,c.width>=w&&e.unbind("update",l)},s=function t(){c.opacity+=.05,c.opacity>=1&&e.unbind("update",t)};return Object.assign(t,{anim:function(){e.bind("update",l)},panic:function(){c.fill=E,c.opacity=0,e.bind("update",s)},makeWall:function(){c.opacity=1,c.fill="black",c.width=w,c.height=w,this.weight=1,this.empty=!1},reset:function(){this._reset(),c.fill=y,c.opacity=0,c.width=0,c.height=0},get coords(){return{x:o,y:a}},get translation(){return r.translation},get finderNode(){return c}})}var A,O,j,L=n(25),R=n(22),C=n.n(R);function M(t){return{width:t.clientWidth,height:t.clientHeight}}function D(){for(var t=j.grid,e=t.length-1,n=t[0].length-1,i=t[N(e)][N(n)],o=t[N(e)][N(n)];i===o;)i=t[N(e)][N(n)];z(I("Starting node"),i),z(I("End node"),o)}function W(){window.location.reload()}function z(t,e){t.mesh.opacity=1,t.mesh.translation.copy(e.translation),t.prevLocation=t.location,t.location=e.position,e.empty=!1}function F(t,e){var n=O.searchTree(t,e);return n.length?j.get(n[0].position):null}var I=function(t){return X.find((function(e){return e.id===t}))},X=[{id:"Starting node",color:"#D38994",type:"circle",isSingular:!0,location:null,prevLocation:null,mesh:null},{id:"End node",color:"#985F6F",type:"circle",isSingular:!0,location:null,prevLocation:null,mesh:null},{id:"Wall",color:"#040000",type:"rect",isSingular:!1,location:null,prevLocation:null,mesh:null}],Y=function(){var t=Object(i.useRef)(null),e=Object(i.useState)(!1),n=Object(c.a)(e,2),a=n[0],r=n[1],u=Object(i.useState)(7.5),d=Object(c.a)(u,2),v=d[0],g=d[1],y=Object(s.useMachine)(f),E=Object(c.a)(y,2),N=E[0],R=E[1],Y=function(t){if(O)return{x:t.pageX,y:t.pageY}},_=function(t){if(N.matches("drawing")){var e=Y(t),n=F(e.x,e.y);if(n){var i,o=I(null===(i=N.context.activeSelection)||void 0===i?void 0:i.id);o&&(o.mesh.opacity=.2,o.mesh.translation.copy(n.translation)),a&&V(t)}}},H=function(){r(!1)},V=function(t){if(N.matches("drawing")){var e=Y(t),n=F(e.x,e.y);if(n){var i=I(N.context.activeSelection.id),o=j.get(n.position);i.isSingular?(z(i,o),o.empty=!1):(o.makeWall(),B(N.context.activeSelection.id)),R("DROP"),r(!0)}}};function B(t){if(t&&N.matches("drawing")){var e=I(t).mesh;e.translation.set(-100,-100),e.location=null}}function G(t,e){for(var n=e.length<=1,i=function(i){var o=t[i];i===t.length?setTimeout((function(){!function(t){for(var e=function(e){if(e===t.length)return R("RESET"),{v:void 0};var n=t[e];setTimeout((function(){n.finderNode.fill=b}),35*e)},n=0;n<=t.length;n++){var i=e(n);if("object"===typeof i)return i.v}}(e),n&&function(t){for(var e=0;e<t.length;e++)t[e].panic()}(t)}),v*i):setTimeout((function(){o.anim()}),v*i)},o=0;o<=t.length;o++)i(o)}return Object(i.useEffect)((function(){var e=t.current;!function(t){if(A)return A;(A=new l.a({type:l.a.Types.svg})).appendTo(t)}(e);var n=function(t){var e=M(t),n=e.width,i=e.height/w,o=n/w;return j=function(t,e){for(var n=[],i=0;i<t;i++)n.push([]);return{get length(){return 0},get grid(){return n},get:function(t,e){var i=t,o=e;return"object"===typeof t&&(i=t.col,o=t.row),n[o][i]},add:function(t,e,i){n[e][t]=i}}}(i,0),{rows:i,columns:o}}(e),i=n.columns,o=n.rows;return function(t){var e=M(t),n=e.width,i=e.height;A.width=n,A.height=i}(e),O=function(){var t=new C.a;return{insert:function(e,n,i,o,a){t.insert(Object(L.a)({minX:e,minY:n,maxX:i,maxY:o},a))},searchTree:function(e,n){return t.search({minX:e-5,minY:n-5,maxX:e+5,maxY:n+5})}}}(),function(t,e,n){for(var i=w/2,o=n.getBoundingClientRect().y,a=0;a<e;a++)for(var r=0;r<t;r++){var c=i+r*w,l=o+i+a*w,s=c-i,u=l-i,d=c+i,f=l+i,h={position:{col:r,row:a}};O.insert(s,u,d,f,h);var m=k(T(r,a),A);j.add(r,a,m)}}(i,o,e),A.play(),X.forEach((function(t,e){var n={x:-100,y:-100,color:t.color};X[e].mesh="rect"===t.type?x(n,A):function(t,e){var n=t.x,i=void 0===n?0:n,o=t.y,a=void 0===o?0:o,r=t.color,c=t.size,l=void 0===c?w/2:c,s=e.makeCircle(i,a,l);return s.fill=r,s.opacity=1,s.linewidth=.45,s}(n,A)})),D(),window.addEventListener("resize",W),function(){window.removeEventListener("resize",W)}}),[]),o.a.createElement(o.a.Fragment,null,o.a.createElement("div",{id:"actions",className:"container is-fluid has-background-light box is-marginless"},o.a.createElement("div",{className:"columns is-desktop container is-fullhd"},o.a.createElement("div",{className:"column has-text-centered buttons is-marginless"},o.a.createElement("div",{className:"dropdown is-hoverable"},o.a.createElement("div",{className:"dropdown-trigger"},o.a.createElement("button",{className:"button","aria-haspopup":"true","aria-controls":"dropdown-menu4"},o.a.createElement("span",null,N.context.selectedAlgorithm?N.context.selectedAlgorithm:"Pick an algorithm"),o.a.createElement("span",{className:"icon is-small"},o.a.createElement("i",{className:"fas fa-angle-down","aria-hidden":"true"})))),o.a.createElement("div",{className:"dropdown-menu",id:"dropdown-menu4",role:"menu"},o.a.createElement("div",{className:"dropdown-content"},S.map((function(t){return o.a.createElement("a",{key:t,onClick:function(){R("SELECT_ALGORITHM",{selectedAlgorithm:t})},href:"#",className:"dropdown-item"},t)}))))),o.a.createElement("div",{className:"dropdown is-hoverable"},o.a.createElement("div",{className:"dropdown-trigger"},o.a.createElement("button",{className:"button","aria-haspopup":"true","aria-controls":"dropdown-menu4"},o.a.createElement("span",null,7.5===v?"Fast":"Slow"),o.a.createElement("span",{className:"icon is-small"},o.a.createElement("i",{className:"fas fa-angle-down","aria-hidden":"true"})))),o.a.createElement("div",{className:"dropdown-menu",id:"dropdown-menu5",role:"menu"},o.a.createElement("div",{className:"dropdown-content"},o.a.createElement("a",{onClick:function(){return g(7.5)},className:"dropdown-item"},"Fast"),o.a.createElement("a",{onClick:function(){return g(40)},className:"dropdown-item"},"Slow"))))),o.a.createElement("div",{className:"column has-text-centered buttons is-marginless"},X.map((function(t){var e;return o.a.createElement("button",{key:t.id+Math.random(),onClick:function(){return function(t){if(N.matches("drawing"))return t.prevLocation=t.location,void R("IDLE");R("DRAW"),B(t.id),R("SELECT",{activeSelection:t})}(t)},className:"button is-outlined ".concat((null===(e=N.context.activeSelection)||void 0===e?void 0:e.id)===t.id?"is-active":""),disabled:N.matches("pathfinding")},t.id)}))),o.a.createElement("div",{className:"column has-text-centered buttons is-marginless"},o.a.createElement("button",{onClick:function(){j.grid.forEach((function(t){t.forEach((function(t){Math.random()<.1&&t.empty&&t.makeWall()}))}))},className:"button is-outlined",disabled:N.matches("pathfinding")},"Randomize walls"),o.a.createElement("button",{onClick:function(){R("START");var t=j.get(X[0].location),e=j.get(X[1].location),n=[];N.context.selectedAlgorithm===S[0]?n=m(j.grid,t,e):N.context.selectedAlgorithm===S[1]&&(n=function(t,e,n){e.g=0,e.h=h(e,n),e.f=e.h;for(var i=[],o=[e],a=[],r=0;o.length;){if(++r>=5e3)return i;var c=o.shift();if(a.push(c),i.push(c),c.id===n.id)return i;var l=p(c,t),s=!0,u=!1,d=void 0;try{for(var f,m=function(){var t=f.value;if(t.weight>0||a.some((function(e){return e.id===t.id})))return"continue";t.g=c.g+1;var e=h(t,n);t.h=e,t.f=t.g+e,t.previousNode=c,o.some((function(e){return e.id===t.id}))||o.push(t)},v=l[Symbol.iterator]();!(s=(f=v.next()).done);s=!0)m()}catch(g){u=!0,d=g}finally{try{s||null==v.return||v.return()}finally{if(u)throw d}}o.sort((function(t,e){return t.f-e.f}))}return i}(j.grid,t,e)),G(n,function(t){for(var e=[],n=t;null!==n;)e.unshift(n),n=n.previousNode;return e}(e))},className:"button is-primary ".concat(N.matches("pathfinding")&&"is-loading"),disabled:N.matches("pathfinding")},"Start"),o.a.createElement("button",{onClick:function(){j.grid.forEach((function(t){t.forEach((function(t){return t.reset()}))})),D(),R("RESET")},className:"button is-info",disabled:N.matches("pathfinding")},"Reset")))),o.a.createElement("div",{id:"canvas",ref:t,onMouseMove:_,onMouseDown:V,onMouseUp:H,onTouchMove:_,onTouchStart:V,onTouchEnd:H,onMouseLeave:function(){var t;return B(null===(t=N.context.activeSelection)||void 0===t?void 0:t.id)}}))};r.a.render(o.a.createElement(Y,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(t){t.unregister()}))}},[[26,1,2]]]);
//# sourceMappingURL=main.0624205d.chunk.js.map